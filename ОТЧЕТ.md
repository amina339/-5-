# Лабораторная №5
## 1 задание
### Ход действий
1. Находясь в своем репозитории, помощью следующих комманд я перешла в папку, где находились сэмплы для различных хуков
```
 cd .git
 cd hooks/
```
2. Затем я убрала sample из названия файла pre-commit, чтобы его активировать
```
 mv pre-commit.sample pre-commit
```
   И получила 
   
   ![Image alt](https://github.com/amina339/-4/blob/main/photo_5328149918919030295_x.jpg)

3. Зашла в редактор vi и уже там редактировала хук
```
 vi pre-commit
```
4. Вначале обозначила оболочку Bash, затем создала список, который содержит файлы txt (если такие имеются), далее работала уже по файлам и проверяла каждый на пустоту и существование. Если файл пустой то выводится сообщение в консоль и коммит не выполняется. Если файл не пустой, то тоже выводится сообщение и выполняется коммит. А если файл другого формата, то выводится сообщение и выполняется коммит.
```
    #!/bin/bash
   files=$(git diff --cached --name-only --diff-filter=ACMRDT | grep '.txt$')
   if [ -z "$files" ]; then
       echo "Нет файлов формата тхт, все ок"
       exit 0
   fi
   for file in $files; do
       if [ ! -f "$file" ] || [ ! -s "$file" ]; then
           echo "файл пустой, добавьте в него текст"
           exit 1
       fi
   done
   echo "Все файлы соответствуют требованиям"
   exit 0
```
В редакторе это выглядит так

 ![Image alt](https://github.com/amina339/-4/blob/main/photo_5328149918919030295_x.jpg)

 5. Теперь проверим работу хука

Случай 1 - непустой файл тхт
```
 nano textbook.txt
 git add textbook.txt
 git commit -m "added one more line"
```

 ![Image alt](https://github.com/amina339/-4/blob/main/photo_5328149918919030295_x.jpg)

 Случай 2 - пустой файл тхт
 
  ![Image alt](https://github.com/amina339/-4/blob/main/photo_5328149918919030295_x.jpg)

  Случай 3 - файл не тхт (тут .py)

   ![Image alt](https://github.com/amina339/-4/blob/main/photo_5328149918919030295_x.jpg)

   # 2 задание
   Делала все как написано в задании, вот, что вышло

    ![Image alt](https://github.com/amina339/-4/blob/main/photo_5328149918919030295_x.jpg)

    
